#pragma once
#include "vector128.h"
struct L_STF
{
  static const int SIZE   = 160 * 2 * sizeof(COMPLEX16);
  static const int COUNT  = 160 * 2;
  static const int VCOUNT = 160 * 2 / 4;
  static const int csd = 2;

  __forceinline void get_stf_1(COMPLEX16* pout)
  {
    vcs *pvin  = reinterpret_cast<vcs*>(_stf);
    vcs *pvout = reinterpret_cast<vcs*>(pout);

    for (int i = 0; i < VCOUNT; i++)
    {
      pvout[i] = pvin[i];
    }
  }

  __forceinline void get_stf_2(COMPLEX16* pout)
  {
    vcs *pvin  = reinterpret_cast<vcs*>(_stf);
    vcs *pvout = reinterpret_cast<vcs*>(pout);
        
    int i = 0;
    for (; i < VCOUNT - csd; i++)
    {
      pvout[i + csd] = pvin[i];
    }
    for (int j = 0; i < VCOUNT; i++, j++)
    {
      pvout[j] = pvin[i];
    }
  }

  __forceinline void get_stf_1_of_4(COMPLEX16* pout)
  {
    vcs *pvin  = reinterpret_cast<vcs*>(_stf);
    vcs *pvout = reinterpret_cast<vcs*>(pout);

    for (int i = 0; i < VCOUNT; i++)
    {
      pvout[i] = pvin[i];
    }
  }

  __forceinline void get_stf_2_of_4(COMPLEX16* pout)
  {
    COMPLEX16 *pvin  = reinterpret_cast<COMPLEX16*>(_stf);
    COMPLEX16 *pvout = reinterpret_cast<COMPLEX16*>(pout);
    static int const _csd = 2;

    int i = 0;
    for (; i < COUNT - _csd; i++)
    {
      pvout[i + _csd] = pvin[i];
    }
    for (int j = 0; i < COUNT; i++, j++)
    {
      pvout[j] = pvin[i];
    }
  }

  __forceinline void get_stf_3_of_4(COMPLEX16* pout)
  {
    vcs *pvin  = reinterpret_cast<vcs*>(_stf);
    vcs *pvout = reinterpret_cast<vcs*>(pout);
    static int const _csd = 1; // 1 vcs, 4 COMPLEX16, 40MHz, 100ns

    int i = 0;
    for (; i < VCOUNT - _csd; i++)
    {
      pvout[i + _csd] = pvin[i];
    }
    for (int j = 0; i < VCOUNT; i++, j++)
    {
      pvout[j] = pvin[i];
    }
  }

  __forceinline void get_stf_4_of_4(COMPLEX16* pout)
  {
    COMPLEX16 *pvin  = reinterpret_cast<COMPLEX16*>(_stf);
    COMPLEX16 *pvout = reinterpret_cast<COMPLEX16*>(pout);
    static int const _csd = 6;

    int i = 0;
    for (; i < COUNT - _csd; i++)
    {
      pvout[i + _csd] = pvin[i];
    }
    for (int j = 0; i < COUNT; i++, j++)
    {
      pvout[j] = pvin[i];
    }
  }

private:
  static A16 COMPLEX16 _stf[160 * 2];
};

SELECTANY COMPLEX16 L_STF::_stf[] =
{
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
  {724, 724},{-743, 983},{-2085, 37},{-1907, -1009},{-212, -1236},{1605, -737},{2247, -199},{1814, -6},{1448, 0},{1814, -6},{2247, -199},{1605, -737},{-212, -1236},{-1907, -1009},{-2085, 37},{-743, 983},
  {724, 724},{983, -743},{37, -2085},{-1009, -1907},{-1236, -212},{-737, 1605},{-199, 2247},{-6, 1814},{0, 1448},{-6, 1814},{-199, 2247},{-737, 1605},{-1236, -212},{-1009, -1907},{37, -2085},{983, -743},
};
